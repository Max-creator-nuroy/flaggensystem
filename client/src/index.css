:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  height: 100%;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color-scheme: dark;

  /* App color system - Dark default */
  --color-bg: #0b1220;            /* deep slate/navy */
  --color-surface: #111827;       /* slate-800 */
  --color-text: #e5e7eb;          /* slate-200 */
  --color-muted: #94a3b8;         /* slate-400 */
  --color-border: #334155;        /* slate-700 */

  --color-primary: #818cf8;       /* indigo 400 */
  --color-primary-600: #6366f1;   /* indigo 500 */
  --color-accent: #22d3ee;        /* cyan 400 */
  --color-success: #34d399;       /* emerald 400 */
  --color-warning: #fbbf24;       /* amber 400 */
  --color-danger: #f87171;        /* red 400 */

  --color-link: var(--color-primary);

  /* Darker badge background than --color-bg */
  --color-badge-bg: color-mix(in srgb, var(--color-bg) 70%, black);
}

html, body, #root {
  height: 100%;
  background-color: var(--color-bg);
  color: var(--color-text);
}

a {
  font-weight: 500;
  color: var(--color-link);
  text-decoration: inherit;
}
a:hover {
  color: var(--color-primary-600);
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  padding: 0.6em 1.2em;
  cursor: pointer;
  transition: border-color 0.25s, background-color 0.2s, color 0.2s;
  background-color: var(--color-surface);
  color: var(--color-text);
  border-width: 1px;
  border-style: solid;
  border-color: var(--color-border);
}

button:hover {
  border-color: var(--color-primary);
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

/* Light mode fallback based on user preference */
@media (prefers-color-scheme: light) {
  :root {
    color-scheme: light;
    --color-bg: #ffffff;
    --color-surface: #f8fafc;
    --color-text: #0f172a;
    --color-muted: #475569;
    --color-border: #e5e7eb;

    --color-primary: #6366f1;      /* indigo 500 */
    --color-primary-600: #4f46e5;  /* indigo 600 */
    --color-accent: #06b6d4;       /* cyan 500 */
    --color-success: #10b981;      /* emerald 500 */
    --color-warning: #f59e0b;      /* amber 500 */
    --color-danger: #ef4444;       /* red 500 */

    /* Badge bg tuned for light mode (slightly darker than surface) */
    --color-badge-bg: color-mix(in srgb, var(--color-surface) 85%, black);
  }

  html, body, #root {
    background-color: var(--color-bg);
    color: var(--color-text);
  }

  a:hover {
    color: var(--color-primary-600);
  }

  button {
    background-color: var(--color-surface);
  }
}

/* Global component theming: Dialog & Select (Chakra/Ark) */
/* Dialog */
[data-scope="dialog"][data-part="content"] {
  background-color: var(--color-surface);
  color: var(--color-text);
  border: 1px solid var(--color-border);
}
[data-scope="dialog"][data-part="backdrop"] {
  background-color: rgba(0, 0, 0, 0.6);
}

/* Select (Chakra Ark Select) */
[data-scope="select"][data-part="control"] {
  background-color: var(--color-surface);
  color: var(--color-text);
  border: 1px solid var(--color-border);
  border-radius: 0.5rem;
}
[data-scope="select"][data-part="control"]:hover {
  background-color: rgba(255, 255, 255, 0.04);
}
[data-scope="select"][data-part="content"] {
  background-color: var(--color-surface);
  color: var(--color-text);
  border: 1px solid var(--color-border);
}
[data-scope="select"][data-part="item"]:hover,
[data-scope="select"][data-part="item"][data-highlighted] {
  background-color: rgba(255, 255, 255, 0.06);
}

/* Native <select> styling to match theme */
select {
  background-color: var(--color-surface);
  color: var(--color-text);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  padding: 6px 8px;
}
select:focus {
  outline: none;
  border-color: var(--color-primary);
}
select option {
  background-color: var(--color-surface);
  color: var(--color-text);
}

/* Global readable text in dark mode */
body, p, span, li, ul, ol, dl, dt, dd, label, legend, small, strong, em, blockquote,
h1, h2, h3, h4, h5, h6 {
  color: var(--color-text);
}

/* Form controls: ensure light text and placeholders */
input, textarea {
  background-color: var(--color-surface);
  color: var(--color-text);
  border: 1px solid var(--color-border);
}
input::placeholder,
textarea::placeholder {
  color: var(--color-muted);
  opacity: 1;
}
input:disabled,
textarea:disabled,
select:disabled {
  color: var(--color-muted);
  opacity: 1;
}

/* Ensure content containers inherit light text */
[data-scope="card"][data-part="root"],
[data-scope="popover"][data-part="content"],
[data-scope="dialog"][data-part="content"] {
  color: var(--color-text);
}

/* Badge: darker than background, readable text, subtle colored left border */
[data-scope="badge"][data-part="root"] {
  /* Fallback for browsers without color-mix */
  background-color: #070b12;
  background-color: var(--color-badge-bg);
  color: var(--color-text);
  border: 1px solid var(--color-border);
}
[data-scope="badge"][data-part="root"][data-variant="solid"],
[data-scope="badge"][data-part="root"][data-variant="subtle"],
[data-scope="badge"][data-part="root"][data-variant="outline"] {
  background-color: #070b12;
  background-color: var(--color-badge-bg);
  color: var(--color-text);
  border: 1px solid var(--color-border);
}
/* Color accents via left border */
[data-scope="badge"][data-part="root"][data-color-scheme="red"] { border-left: 4px solid #b91c1c; }
[data-scope="badge"][data-part="root"][data-color-scheme="yellow"] { border-left: 4px solid #a16207; }
[data-scope="badge"][data-part="root"][data-color-scheme="orange"] { border-left: 4px solid #9a3412; }
[data-scope="badge"][data-part="root"][data-color-scheme="green"] { border-left: 4px solid #065f46; }
[data-scope="badge"][data-part="root"][data-color-scheme="purple"] { border-left: 4px solid #6d28d9; }
[data-scope="badge"][data-part="root"][data-color-scheme="blackAlpha"],
[data-scope="badge"][data-part="root"][data-color-scheme="whiteAlpha"] { border-left: 4px solid var(--color-border); }

/* Table (Chakra Ark Table) - dark theme */
[data-scope="table"][data-part="root"] {
  color: var(--color-text);
}
[data-scope="table"][data-part="table"] {
  background-color: var(--color-surface);
  color: var(--color-text);
  border-collapse: collapse;
  border-spacing: 0;
}
[data-scope="table"][data-part="header"] {
  background-color: rgba(255, 255, 255, 0.04);
  border-bottom: 1px solid var(--color-border);
  z-index: 1;
}
[data-scope="table"][data-part="columnHeader"] {
  background-color: rgba(255, 255, 255, 0.04);
  color: var(--color-text);
  border-bottom: 1px solid #000; /* black separators */
}
/* Table: enforce dark separators for body rows and remove duplicate cell borders */
[data-scope="table"][data-part="table"] {
  border-collapse: collapse;
  border-spacing: 0;
}
/* Remove cell-level bottom borders to avoid double lines */
[data-scope="table"][data-part="body"] [data-scope="table"][data-part="cell"] {
  border-bottom: none !important;
}
/* Use a near-background dark separator on body rows */
[data-scope="table"][data-part="body"] [data-scope="table"][data-part="row"] {
  border-bottom: 1px solid #0a0f18 !important; /* close to --color-bg */
  box-shadow: none !important;
}
/* Keep header row separator with border color */
[data-scope="table"][data-part="header"] [data-scope="table"][data-part="row"] {
  border-bottom: 1px solid var(--color-border) !important;
}

/* Global: dark table separators (native elements inside Chakra/Ark Table) */
[data-scope="table"][data-part="root"] table {
  width: 100%;
  border-collapse: collapse !important;
  border-spacing: 0 !important;
  background-color: var(--color-surface);
  color: var(--color-text);
}
[data-scope="table"][data-part="root"] thead th {
  background-color: rgba(255, 255, 255, 0.04);
  color: var(--color-text);
  border: 0 !important;
  border-bottom: 1px solid var(--color-border) !important;
}
[data-scope="table"][data-part="root"] tbody tr {
  background-color: var(--color-surface);
  border-bottom: 1px solid #0a0f18 !important; /* dark separator */
  box-shadow: none !important;
}
[data-scope="table"][data-part="root"] tbody td {
  border: 0 !important;
  background-color: transparent;
}

/* AdminCustomerList: enforce dark separators and no cell borders */
.admin-table [data-scope="table"][data-part="body"] [data-scope="table"][data-part="cell"] {
  border-bottom: none !important;
}
.admin-table [data-scope="table"][data-part="body"] [data-scope="table"][data-part="row"] {
  border-bottom: 1px solid #0a0f18 !important;
}

/* Admin table scoped dark separators (remove global interference) */
.admin-table [data-scope="table"][data-part="table"],
.admin-table table {
  border-collapse: collapse !important;
  border-spacing: 0 !important;
}
.admin-table [data-scope="table"][data-part="body"] [data-scope="table"][data-part="cell"],
.admin-table td,
.admin-table th {
  border: 0 !important;
}
.admin-table [data-scope="table"][data-part="body"] [data-scope="table"][data-part="row"],
.admin-table tbody tr {
  border-bottom: 1px solid #0a0f18 !important;
  box-shadow: none !important;
}
.admin-table [data-scope="table"][data-part="header"] [data-scope="table"][data-part="row"],
.admin-table thead tr {
  border-bottom: 1px solid var(--color-border) !important;
}
